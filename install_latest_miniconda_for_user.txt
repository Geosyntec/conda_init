@echo off
echo Checking if miniforge3 already exists for this user...
if exist %UserProfile%\miniforge3 (
	echo miniforge3 already exists for this user, exiting without modifying the system...
	pause
	EXIT /B
) else (
	echo installing conda...
	curl -L https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Windows-x86_64.exe -o miniforge3.exe
	start /wait "" .\miniforge3.exe /InstallationType=JustMe /RegisterPython=0 /AddToPath=0 /S /D=%UserProfile%\miniforge3
	echo installation complete.
	echo initializing conda for cmd prompt...
	%USERPROFILE%\miniforge3\condabin\conda init cmd.exe
	echo initialization complete.
)
pause